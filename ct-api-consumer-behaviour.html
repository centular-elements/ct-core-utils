<script>

  /**
   * @polymerBehavior CT.Behaviours.ApiConsumer
   */

  window.CT = window.CT || {};
  window.CT.Behaviours = window.CT.Behaviours || {};
  CT.Behaviours.ApiConsumer = {

    _setPropertyResponse: function(property, response) {
      this.set(property, response.response);
    },

    _setPropertyResponseHeader: function(property, header, response) {
      var value = response.xhr.getResponseHeader(header);
      this.set(property, value);
    },

    _setPropertyNewItemId: function (property, response) {
      var headerValue = response.xhr.getResponseHeader('location');
      var id = headerValue.substring(headerValue.lastIndexOf('/') + 1);
      this.set(property, id);
    },

    _setPropertyResponseResults: function(property, response) {
      this.set(property, response.response.results);
    },

    _setPropertyMappedResponse: function(property, mappingMethod, response) {
      this.set(property, mappingMethod(response.response));
    }
  };
</script>
